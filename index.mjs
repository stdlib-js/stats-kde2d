// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-array@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-linspace@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-numeric-array@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-matrix-like@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-number-array@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-sqrt-two-pi@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-exp@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import M from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-fourth-pi@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-half-pi@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-cos@esm/index.mjs";var N=d;var T=l;function O(e,r){return e-r}function V(e,r){var t,n,s=e.length;return e[t=T(n=(s-1)*r+1)-1]+(n-T(n))*(e[t+1]-e[t])}var q=a,F=o,z=m,A=function(e,r){var t,n,s,i,a;for(t=0,n=0,s=0,i=0;i<e.shape[0];i++)s+=(t=(a=e.get(i,r))-n)*(a-(n+=t/(i+1)));return N(s/(i-1))},R=function(e,r){var t,n;for(t=new Array(e.shape[0]),n=0;n<e.shape[0];n++)t[n]=e.get(n,r);return t.sort(O),V(t,.75)-V(t,.25)};var S=function(e,r){var t,n,s,i;return s=R(e,r)/1.34,n=A(e,r),t=F(s,n),0===(i=1.06*q(e.shape[0],-.2)*t)&&(i=z),i},P=x,U=a,B=y,C=1/b;var D=function(e){return P(e)?NaN:C*B(-.5*U(e,2))},G=w,H=x,I=a;var J=function(e){return H(e)?NaN:G(e)>1?0:.75*(1-I(e,2))},K=w,L=x,Q=M,W=E,X=k;var Y=function(e){return L(e)?NaN:K(e)>1?0:Q*X(W*e)},Z=w,$=x,_=a;var ee=function(e){return $(e)?NaN:Z(e)>1?0:15/16*_(1-_(e,2),2)},re=w,te=x;var ne=function(e){var r;return te(e)?NaN:(r=re(e))>1?0:1-r},se=w,ie=x,ae=a;var oe=function(e){var r;return ie(e)?NaN:(r=se(e))>1?0:.8641975308641975*ae(1-ae(r,3),3)},me=w,de=x,le=a;var pe=function(e){return de(e)?NaN:me(e)>1?0:35/32*le(1-le(e,2),3)},he=x;var ue=function(e){return he(e)?NaN:e<0||e>1?0:.5},fe={};fe.gaussian=D,fe.epanechnikov=J,fe.cosine=Y,fe.quartic=ee,fe.triangular=ne,fe.tricube=oe,fe.triweight=pe,fe.uniform=ue;var ce=i,je=fe;var ve=function(e){var r=je[e];return void 0===r?new Error(ce("invalid argument. Unsupported/unrecognized kernel. Value: `%s`.",e)):r},ge=p,xe=h,be=u,ye=f,we=c,Me=j,Ee=v,ke=g.isPrimitive,Ne=i,Te=x,Oe=ve;var Ve=n;var qe=function(e,r,t){var n,s,i;for(n=e.get(0,r),i=1;i<t;i++)(s=e.get(i,r))>n&&(n=s);return n},Fe=e,ze=r,Ae=t,Re=n,Se=s,Pe=i,Ue=S,Be=function(e,r){if(!be(r))return new TypeError(Ne("invalid argument. Options argument must be an object. Value: `%s`.",r));if(xe(r,"h")){if(e.h=r.h,!we(e.h))return new TypeError(Ne("invalid option. `%s` must be an array of positive values. Option: `%s`.","h",e.h));if(2!==e.h.length)return new TypeError(Ne("invalid option. `%s` must be an array of length two. Option: `%s`.","h",e.h))}if(xe(r,"n")&&(e.n=r.n,!ye(e.n)))return new TypeError(Ne("invalid option. `%s` option must be a positive integer. Option: `%s`.","n",e.n));if(xe(r,"xMax")&&(e.xMax=r.xMax,!ke(e.xMax)||Te(e.xMax)))return new TypeError(Ne("invalid option. `%s` must be a number. Option: `%s`.","xMax",e.xMax));if(xe(r,"xMin")&&(e.xMin=r.xMin,!ke(e.xMin)||Te(e.xMin)))return new TypeError(Ne("invalid option. `%s` must be a number. Option: `%s`.","xMin",e.xMin));if(xe(r,"yMax")&&(e.yMax=r.yMax,!ke(e.yMax)||Te(e.yMax)))return new TypeError(Ne("invalid option. `%s` must be a number. Option: `%s`.","yMax",e.yMax));if(xe(r,"yMin")&&(e.yMin=r.yMin,!ke(e.yMin)||Te(e.yMin)))return new TypeError(Ne("invalid option. `%s` must be a number. Option: `%s`.","yMin",e.yMin));if(xe(r,"kernel"))if(e.kernel=r.kernel,ge(e.kernel)){if(e.kernel=Oe(e.kernel),Ee(e.kernel))return e.kernel}else if(!Me(e.kernel))return new TypeError(Ne("invalid option. `%s` must be a string denoting a known kernel function or a custom function. Option: `%s`.","kernel",e.kernel));return null},Ce=function(e,r){if(!Ve(e))throw new TypeError("First argument must be a numeric array");if(!Ve(r))throw new TypeError("Second argument must be a numeric array");if(e.length!==r.length)throw new Error("First and second argument must be of same length");return{get:function(t,n){if(0===n)return e[t];return r[t]},shape:[e.length,2]}},De=function(e,r,t){var n,s,i;for(n=e.get(0,r),i=1;i<t;i++)(s=e.get(i,r))<n&&(n=s);return n},Ge=qe,He=D;var Ie=function(){var e,r,t,n,s,i,a,o,m,d,l,p,h,u,f,c,j,v,g,x,b,y,w,M,E,k;if(l={},Se(arguments[0]))p=arguments[0],r=1;else{if(w=arguments[1],!Re(y=arguments[0]))throw new TypeError(Pe("invalid argument. First argument `x` must be a numeric array. Value: `%s`.",y));if(!Re(w))throw new TypeError(Pe("invalid argument. Second argument `y` must be a numeric array. Value: `%s`.",w));if(y.length!==w.length)throw new Error("invalid arguments. Arguments `x` and `y` must be arrays of the same length");p=Ce(y,w),r=2}if(arguments.length>r&&(h=Be(l,arguments[r])))throw h;if(l.h?(v=l.h[0],g=l.h[1]):(v=Ue(p,0),g=Ue(p,1)),E=l.n||25,i=l.xMin||De(p,0,p.shape[0]),a=l.xMax||Ge(p,0,p.shape[0]),o=l.yMin||De(p,1,p.shape[0]),m=l.yMax||Ge(p,1,p.shape[0]),i>=a)throw new RangeError("`x` min must be strictly less than max");if(o>=m)throw new RangeError("`y` min must be strictly less than max");for(e=l.kernel||He,k=Fe({shape:[E,E]}),n=ze(i,a,E),s=ze(o,m,E),x=0;x<n.length;x++)for(c=n[x],b=0;b<s.length;b++){for(j=s[b],u=0,M=0;M<p.shape[0];M++)d=p.get(M,0),t=(p.get(M,1)-j)/g,u+=1/v*e((d-c)/v)*(1/g*e(t));k.set(x,b,u/p.shape[0])}return Ae(f={},"x",n),Ae(f,"y",s),Ae(f,"z",k),f};export{Ie as default};
//# sourceMappingURL=index.mjs.map
