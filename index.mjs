// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-array@v0.2.1-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-linspace@v0.2.1-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-numeric-array@v0.2.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-matrix-like@v0.2.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@v0.2.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@v0.2.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@v0.2.1-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@v0.2.1-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.1-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.1-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.1-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.2.1-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-number-array@v0.2.1-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@v0.2.1-esm/index.mjs";import{isPrimitive as u}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.0-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@v0.2.1-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-sqrt-two-pi@v0.2.1-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-exp@v0.2.2-esm/index.mjs";import M from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@v0.2.1-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-fourth-pi@v0.2.1-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-half-pi@v0.2.1-esm/index.mjs";import L from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-cos@v0.2.1-esm/index.mjs";function Z(r,e){return r-e}function k(r,e){var t,n,s=r.length;return r[t=h(n=(s-1)*e+1)-1]+(n-h(n))*(r[t+1]-r[t])}function N(r,e){var t,n,s,i;return s=function(r,e){var t,n;for(t=new Array(r.shape[0]),n=0;n<r.shape[0];n++)t[n]=r.get(n,e);return t.sort(Z),k(t,.75)-k(t,.25)}(r,e)/1.34,n=function(r,e){var t,n,s,i,o;for(t=0,n=0,s=0,i=0;i<r.shape[0];i++)s+=(t=(o=r.get(i,e))-n)*(o-(n+=t/(i+1)));return d(s/(i-1))}(r,e),t=a(s,n),0===(i=1.06*o(r.shape[0],-.2)*t)&&(i=m),i}var T=1/y;function R(r){return g(r)?NaN:T*b(-.5*o(r,2))}var P={};function q(r,e){if(!f(e))return new TypeError(i("1LZ2V",e));if(p(e,"h")){if(r.h=e.h,!v(r.h))return new TypeError(i("1LZ9m","h",r.h));if(2!==r.h.length)return new TypeError(i("1LZ9n","h",r.h))}if(p(e,"n")&&(r.n=e.n,!j(r.n)))return new TypeError(i("1LZ3P","n",r.n));if(p(e,"xMax")&&(r.xMax=e.xMax,!u(r.xMax)||g(r.xMax)))return new TypeError(i("1LZ8P","xMax",r.xMax));if(p(e,"xMin")&&(r.xMin=e.xMin,!u(r.xMin)||g(r.xMin)))return new TypeError(i("1LZ8P","xMin",r.xMin));if(p(e,"yMax")&&(r.yMax=e.yMax,!u(r.yMax)||g(r.yMax)))return new TypeError(i("1LZ8P","yMax",r.yMax));if(p(e,"yMin")&&(r.yMin=e.yMin,!u(r.yMin)||g(r.yMin)))return new TypeError(i("1LZ8P","yMin",r.yMin));if(p(e,"kernel"))if(r.kernel=e.kernel,l(r.kernel)){if(r.kernel=(t=r.kernel,void 0===(n=P[t])?new Error(i("1LZ9j",t)):n),c(r.kernel))return r.kernel}else if(!x(r.kernel))return new TypeError(i("1LZ9o","kernel",r.kernel));var t,n;return null}function z(r,e,t){var n,s,i;for(n=r.get(0,e),i=1;i<t;i++)(s=r.get(i,e))<n&&(n=s);return n}function A(r,e,t){var n,s,i;for(n=r.get(0,e),i=1;i<t;i++)(s=r.get(i,e))>n&&(n=s);return n}function F(){var o,a,m,d,h,l,p,f,j,v,x,c,u,g,y,b,M,w,E,L,Z,k,T,P,F,V;if(x={},s(arguments[0]))c=arguments[0],a=1;else{if(T=arguments[1],!n(k=arguments[0]))throw new TypeError(i("1LZ8R",k));if(!n(T))throw new TypeError(i("1LZ9k",T));if(k.length!==T.length)throw new RangeError(i("1LZ1F"));c=function(r,e){if(!n(r))throw new TypeError(i("1LZ8R",r));if(!n(e))throw new TypeError(i("1LZ9k",e));if(r.length!==e.length)throw new RangeError(i("1LZ1E"));return{get:function(t,n){return 0===n?r[t]:e[t]},shape:[r.length,2]}}(k,T),a=2}if(arguments.length>a&&(u=q(x,arguments[a])))throw u;if(x.h?(w=x.h[0],E=x.h[1]):(w=N(c,0),E=N(c,1)),F=x.n||25,l=x.xMin||z(c,0,c.shape[0]),p=x.xMax||A(c,0,c.shape[0]),f=x.yMin||z(c,1,c.shape[0]),j=x.yMax||A(c,1,c.shape[0]),l>=p)throw new RangeError(i("1LZ9l","xMin","xMax"));if(f>=j)throw new RangeError(i("1LZ9l","yMin","yMax"));for(o=x.kernel||R,V=r({shape:[F,F]}),d=e(l,p,F),h=e(f,j,F),L=0;L<d.length;L++)for(b=d[L],Z=0;Z<h.length;Z++){for(M=h[Z],g=0,P=0;P<c.shape[0];P++)v=c.get(P,0),m=(c.get(P,1)-M)/E,g+=1/w*o((v-b)/w)*(1/E*o(m));V.set(L,Z,g/c.shape[0])}return t(y={},"x",d),t(y,"y",h),t(y,"z",V),y}P.gaussian=R,P.epanechnikov=function(r){return g(r)?NaN:M(r)>1?0:.75*(1-o(r,2))},P.cosine=function(r){return g(r)?NaN:M(r)>1?0:w*L(E*r)},P.quartic=function(r){return g(r)?NaN:M(r)>1?0:15/16*o(1-o(r,2),2)},P.triangular=function(r){var e;return g(r)?NaN:(e=M(r))>1?0:1-e},P.tricube=function(r){var e;return g(r)?NaN:(e=M(r))>1?0:.8641975308641975*o(1-o(e,3),3)},P.triweight=function(r){return g(r)?NaN:M(r)>1?0:35/32*o(1-o(r,2),3)},P.uniform=function(r){return g(r)?NaN:r<0||r>1?0:.5};export{F as default};
//# sourceMappingURL=index.mjs.map
