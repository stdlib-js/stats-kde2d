// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-array@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-linspace@v0.2.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.0-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-numeric-array@v0.2.0-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-matrix-like@v0.2.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@v0.2.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@v0.2.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@v0.2.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@v0.2.0-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.2.0-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.0-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.0-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.0-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.2.0-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-number-array@v0.2.0-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.0-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@v0.2.0-esm/index.mjs";import{isPrimitive as g}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.0-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@v0.2.0-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-sqrt-two-pi@v0.2.0-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-exp@v0.1.0-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import M from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-fourth-pi@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-half-pi@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-cos@v0.2.0-esm/index.mjs";function N(e,n){return e-n}function T(e,n){var t,r,s=e.length;return e[t=p(r=(s-1)*n+1)-1]+(r-p(r))*(e[t+1]-e[t])}function O(e,n){var t,r,s,i;return s=function(e,n){var t,r;for(t=new Array(e.shape[0]),r=0;r<e.shape[0];r++)t[r]=e.get(r,n);return t.sort(N),T(t,.75)-T(t,.25)}(e,n)/1.34,r=function(e,n){var t,r,s,i,o;for(t=0,r=0,s=0,i=0;i<e.shape[0];i++)s+=(t=(o=e.get(i,n))-r)*(o-(r+=t/(i+1)));return d(s/(i-1))}(e,n),t=a(s,r),0===(i=1.06*o(e.shape[0],-.2)*t)&&(i=m),i}var V=1/b;function F(e){return x(e)?NaN:V*y(-.5*o(e,2))}var R={};function q(e,n){if(!h(n))return new TypeError(i("invalid argument. Options argument must be an object. Value: `%s`.",n));if(u(n,"h")){if(e.h=n.h,!v(e.h))return new TypeError(i("invalid option. `%s` option must be an array of positive numbers. Option: `%s`.","h",e.h));if(2!==e.h.length)return new TypeError(i("invalid option. `%s` option must be an array of length two. Option: `%s`.","h",e.h))}if(u(n,"n")&&(e.n=n.n,!f(e.n)))return new TypeError(i("invalid option. `%s` option must be a positive integer. Option: `%s`.","n",e.n));if(u(n,"xMax")&&(e.xMax=n.xMax,!g(e.xMax)||x(e.xMax)))return new TypeError(i("invalid option. `%s` option must be a number. Option: `%s`.","xMax",e.xMax));if(u(n,"xMin")&&(e.xMin=n.xMin,!g(e.xMin)||x(e.xMin)))return new TypeError(i("invalid option. `%s` option must be a number. Option: `%s`.","xMin",e.xMin));if(u(n,"yMax")&&(e.yMax=n.yMax,!g(e.yMax)||x(e.yMax)))return new TypeError(i("invalid option. `%s` option must be a number. Option: `%s`.","yMax",e.yMax));if(u(n,"yMin")&&(e.yMin=n.yMin,!g(e.yMin)||x(e.yMin)))return new TypeError(i("invalid option. `%s` option must be a number. Option: `%s`.","yMin",e.yMin));if(u(n,"kernel"))if(e.kernel=n.kernel,l(e.kernel)){if(e.kernel=(t=e.kernel,void 0===(r=R[t])?new Error(i("invalid argument. Unsupported/unrecognized kernel. Value: `%s`.",t)):r),j(e.kernel))return e.kernel}else if(!c(e.kernel))return new TypeError(i("invalid option. `%s` option must be a string denoting a known kernel function or a custom function. Option: `%s`.","kernel",e.kernel));var t,r;return null}function z(e,n){if(!r(e))throw new TypeError(i("invalid argument. First argument must be a numeric array. Value: `%s`.",e));if(!r(n))throw new TypeError(i("invalid argument. Second argument must be a numeric array. Value: `%s`.",n));if(e.length!==n.length)throw new RangeError("invalid arguments. First and second arguments must have the same length.");return{get:function(t,r){if(0===r)return e[t];return n[t]},shape:[e.length,2]}}function L(e,n,t){var r,s,i;for(r=e.get(0,n),i=1;i<t;i++)(s=e.get(i,n))<r&&(r=s);return r}function S(e,n,t){var r,s,i;for(r=e.get(0,n),i=1;i<t;i++)(s=e.get(i,n))>r&&(r=s);return r}function A(){var o,a,m,d,p,l,u,h,f,v,c,j,g,x,b,y,w,M,E,k,N,T,V,R,A,U;if(c={},s(arguments[0]))j=arguments[0],a=1;else{if(V=arguments[1],!r(T=arguments[0]))throw new TypeError(i("invalid argument. First argument must be a numeric array. Value: `%s`.",T));if(!r(V))throw new TypeError(i("invalid argument. Second argument must be a numeric array. Value: `%s`.",V));if(T.length!==V.length)throw new RangeError("invalid arguments. First and second arguments must be arrays having the same length.");j=z(T,V),a=2}if(arguments.length>a&&(g=q(c,arguments[a])))throw g;if(c.h?(M=c.h[0],E=c.h[1]):(M=O(j,0),E=O(j,1)),A=c.n||25,l=c.xMin||L(j,0,j.shape[0]),u=c.xMax||S(j,0,j.shape[0]),h=c.yMin||L(j,1,j.shape[0]),f=c.yMax||S(j,1,j.shape[0]),l>=u)throw new RangeError(i("invalid option. Lower bound `%s` must be strictly less than the upper bound `%s`.","xMin","xMax"));if(h>=f)throw new RangeError(i("invalid option. Lower bound `%s` must be strictly less than the upper bound `%s`.","yMin","yMax"));for(o=c.kernel||F,U=e({shape:[A,A]}),d=n(l,u,A),p=n(h,f,A),k=0;k<d.length;k++)for(y=d[k],N=0;N<p.length;N++){for(w=p[N],x=0,R=0;R<j.shape[0];R++)v=j.get(R,0),m=(j.get(R,1)-w)/E,x+=1/M*o((v-y)/M)*(1/E*o(m));U.set(k,N,x/j.shape[0])}return t(b={},"x",d),t(b,"y",p),t(b,"z",U),b}R.gaussian=F,R.epanechnikov=function(e){return x(e)?NaN:w(e)>1?0:.75*(1-o(e,2))},R.cosine=function(e){return x(e)?NaN:w(e)>1?0:M*k(E*e)},R.quartic=function(e){return x(e)?NaN:w(e)>1?0:15/16*o(1-o(e,2),2)},R.triangular=function(e){var n;return x(e)?NaN:(n=w(e))>1?0:1-n},R.tricube=function(e){var n;return x(e)?NaN:(n=w(e))>1?0:.8641975308641975*o(1-o(n,3),3)},R.triweight=function(e){return x(e)?NaN:w(e)>1?0:35/32*o(1-o(e,2),3)},R.uniform=function(e){return x(e)?NaN:e<0||e>1?0:.5};export{A as default};
//# sourceMappingURL=index.mjs.map
