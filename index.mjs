// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-array@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-linspace@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-numeric-array@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-matrix-like@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-sqrt@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-number-array@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-error@esm/index.mjs";import{isPrimitive as c}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-sqrt-two-pi@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-exp@esm/index.mjs";function w(e,r){return e-r}function M(e,r){var t,n,s=e.length;return e[t=d(n=(s-1)*r+1)-1]+(n-d(n))*(e[t+1]-e[t])}function E(e,r){var t,n,s,i;return s=function(e,r){var t,n;for(t=new Array(e.shape[0]),n=0;n<e.shape[0];n++)t[n]=e.get(n,r);return t.sort(w),M(t,.75)-M(t,.25)}(e,r)/1.34,n=function(e,r){var t,n,s,i,o;for(t=0,n=0,s=0,i=0;i<e.shape[0];i++)s+=(t=(o=e.get(i,r))-n)*(o-(n+=t/(i+1)));return h(s/(i-1))}(e,r),t=a(s,n),0===(i=1.06*o(e.shape[0],-.2)*t)&&(i=m),i}var k={};function T(e,r){if(!f(r))return new TypeError(i("0fg2h",r));if(l(r,"h")){if(e.h=r.h,!j(e.h))return new TypeError(i("invalid option. `%s` option must be an array of positive numbers. Option: `%s`.","h",e.h));if(2!==e.h.length)return new TypeError(i("invalid option. `%s` option must be an array of length two. Option: `%s`.","h",e.h))}if(l(r,"n")&&(e.n=r.n,!u(e.n)))return new TypeError(i("0fg3b","n",e.n));if(l(r,"xMax")&&(e.xMax=r.xMax,!c(e.xMax)||v(e.xMax)))return new TypeError(i("0fg8h","xMax",e.xMax));if(l(r,"xMin")&&(e.xMin=r.xMin,!c(e.xMin)||v(e.xMin)))return new TypeError(i("0fg8h","xMin",e.xMin));if(l(r,"yMax")&&(e.yMax=r.yMax,!c(e.yMax)||v(e.yMax)))return new TypeError(i("0fg8h","yMax",e.yMax));if(l(r,"yMin")&&(e.yMin=r.yMin,!c(e.yMin)||v(e.yMin)))return new TypeError(i("0fg8h","yMin",e.yMin));if(l(r,"kernel"))if(e.kernel=r.kernel,p(e.kernel)){if(e.kernel=(t=e.kernel,void 0===(n=k[t])?new Error(i("0fgAK",t)):n),x(e.kernel))return e.kernel}else if(!g(e.kernel))return new TypeError(i("invalid option. `%s` option must be a string denoting a known kernel function or a custom function. Option: `%s`.","kernel",e.kernel));var t,n;return null}function q(e,r){if(!n(e))throw new TypeError(i("0fg8j",e));if(!n(r))throw new TypeError(i("0fgAa",r));if(e.length!==r.length)throw new RangeError(i("0fg1H"));return{get:function(t,n){if(0===n)return e[t];return r[t]},shape:[e.length,2]}}function A(e,r,t){var n,s,i;for(n=e.get(0,r),i=1;i<t;i++)(s=e.get(i,r))<n&&(n=s);return n}function R(e,r,t){var n,s,i;for(n=e.get(0,r),i=1;i<t;i++)(s=e.get(i,r))>n&&(n=s);return n}k.gaussian=require("./gaussian.js"),k.epanechnikov=require("./epanechnikov.js"),k.cosine=require("./cosine.js"),k.quartic=require("./quartic.js"),k.triangular=require("./triangular.js"),k.tricube=require("./tricube.js"),k.triweight=require("./triweight.js"),k.uniform=require("./uniform.js");var O=1/y;function L(e){return v(e)?NaN:O*b(-.5*o(e,2))}function N(){var o,a,m,h,d,p,l,f,u,j,g,x,c,v,y,b,w,M,k,O,N,z,F,H,K,B;if(g={},s(arguments[0]))x=arguments[0],a=1;else{if(F=arguments[1],!n(z=arguments[0]))throw new TypeError(i("0fg8j",z));if(!n(F))throw new TypeError(i("0fgAa",F));if(z.length!==F.length)throw new RangeError("invalid arguments. First and second arguments must be arrays having the same length.");x=q(z,F),a=2}if(arguments.length>a&&(c=T(g,arguments[a])))throw c;if(g.h?(M=g.h[0],k=g.h[1]):(M=E(x,0),k=E(x,1)),K=g.n||25,p=g.xMin||A(x,0,x.shape[0]),l=g.xMax||R(x,0,x.shape[0]),f=g.yMin||A(x,1,x.shape[0]),u=g.yMax||R(x,1,x.shape[0]),p>=l)throw new RangeError(i("invalid option. Lower bound `%s` must be strictly less than the upper bound `%s`.","xMin","xMax"));if(f>=u)throw new RangeError(i("invalid option. Lower bound `%s` must be strictly less than the upper bound `%s`.","yMin","yMax"));for(o=g.kernel||L,B=e({shape:[K,K]}),h=r(p,l,K),d=r(f,u,K),O=0;O<h.length;O++)for(b=h[O],N=0;N<d.length;N++){for(w=d[N],v=0,H=0;H<x.shape[0];H++)j=x.get(H,0),m=(x.get(H,1)-w)/k,v+=1/M*o((j-b)/M)*(1/k*o(m));B.set(O,N,v/x.shape[0])}return t(y={},"x",h),t(y,"y",d),t(y,"z",B),y}export{N as default};
//# sourceMappingURL=index.mjs.map
